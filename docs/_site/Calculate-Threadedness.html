<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>GNAT</title>

      <meta name="viewport" content="width=device-width">
      <link rel="stylesheet" href="/assets/css/app.css">
      <link rel="stylesheet" href="/assets/css/custom.css">
      <script src="https://use.fontawesome.com/586b1e1322.js"></script>

      <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/favicons/apple-icon-57x57.png">
      <link rel="apple-touch-icon" sizes="60x60" href="/assets/images/favicons/apple-icon-60x60.png">
      <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/favicons/apple-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/favicons/apple-icon-76x76.png">
      <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/favicons/apple-icon-114x114.png">
      <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/favicons/apple-icon-120x120.png">
      <link rel="apple-touch-icon" sizes="144x144" href="/assets/images/favicons/apple-icon-144x144.png">
      <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/favicons/apple-icon-152x152.png">
      <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-icon-180x180.png">
      <link rel="icon" type="image/png" sizes="192x192"  href="/assets/images/favicons/android-icon-192x192.png">
      <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="96x96" href="/assets/images/favicons/favicon-96x96.png">
      <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png">
      <link rel="manifest" href="/assets/images/favicons/manifest.json">
      <meta name="msapplication-TileColor" content="#ffffff">
      <meta name="msapplication-TileImage" content="/assets/images/favicons/ms-icon-144x144.png">
      <meta name="theme-color" content="#ffffff">

      <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
  </head>

  <body>

  <header>
    <div id="topbarnav"></div>
    <div id="headcallout" class="text-center callout large">
      

      
      <h4 class="subheader show-for-medium"><a href="/">GNAT</a></h4>   
      <h1>Calculate Threadedness</h1>
            
      
    </div>
  </header>

  <div id="inner-wrapper">
    <div id="inner" class="row">
      <div id="main" class="large-8 columns large-push-4">
        <section><p>The <strong>Calculate Threadedness</strong> tool calculates the degree of threadedness for a stream network.
In this case, “threadedness” is defined as the number of braids that intersect mainstem reaches
within the stream network. The tool plots intersection nodes, determines the node type, and then
calculates the number of nodes for each stream reach feature.  Three node types are plotted,
including:</p>

<ul>
  <li>braid-to-braid</li>
  <li>braid-to-mainstem</li>
  <li>tributary confluences</li>
</ul>

<p><img src="/images/threadedness_example.png" alt="threadedness_example" /></p>

<hr />

<h2 id="usage">Usage</h2>

<h3 id="geoprocessing-environment">Geoprocessing Environment</h3>

<ul>
  <li>We recommend running the tool using 64-bit python geoprocessing.</li>
  <li>Disable Z and M values in the input stream network feature class Shape field.</li>
</ul>

<h3 id="input-parameters">Input Parameters</h3>

<p><strong>Input segmented stream network</strong> (with Stream Order)</p>

<p>A stream network feature class previously segmented by the<strong>Segmentation</strong> tool, from which all braid features have been
 manually removed. New fields will appended to this dataset on completion of the processing.</p>

<p><strong>Input stream network with braids</strong></p>

<p>Stream network feature class which includes multi-threaded streams ((i.e. braid features).</p>

<p><strong>Scratch workspace</strong></p>

<ul>
  <li>Can be a file geodatabase or folder, which will be used for saving temporary processing datasets.</li>
</ul>

<h3 id="output">Output</h3>

<p><strong>Output network nodes</strong></p>

<p>Point feature class representing three node types:</p>
<ul>
  <li>braid-to-braid nodes</li>
  <li>braid-to-mainstem nodes</li>
  <li>tributary confluences</li>
</ul>

<p><em>Please note</em>: If this analysis is part of Riverscapes project, the <code class="highlighter-rouge">Input Stream Network</code> will automatically
 be switched to the stream network feature class associated with the Realization Analysis found in the project.rs.xml
 file, which the user selects in the <code class="highlighter-rouge">Riverscape Project Management</code> parameters of this tool.</p>

<h3 id="riverscapes-project-management">Riverscapes Project Management</h3>

<p><strong>Is this a Riverscapes Project?</strong> (optional)</p>

<ul>
  <li>Check box indicating whether this analysis is part of an existing Riverscapes project.</li>
</ul>

<p><strong>GNAT Project XML</strong> (optional)</p>

<ul>
  <li>XML file (should be named <code class="highlighter-rouge">project.rs.xml</code>) which stores information on the associated Riverscapes project.</li>
</ul>

<p><strong>Realization Name</strong> (optional)</p>

<ul>
  <li>Name of the project Realization selected from a list of existing Realizations. Only one Realization can be selected.</li>
</ul>

<p><strong>Segmentation Name</strong> (optional)</p>

<ul>
  <li>Name of the Segmentation Analysis selected from a list of existing Analyses, to which the Calculate Threadedness 
analysis will be assigned.</li>
</ul>

<p><strong>Attribute Analysis Name</strong> (optional)</p>

<ul>
  <li>Name of the new Calculate Threadedness analysis.</li>
</ul>

<hr />

<h2 id="technical-background">Technical Background</h2>

<h3 id="calculation-method">Calculation Method</h3>

<h4 id="manual-preprocessing">Manual Preprocessing</h4>
<ol>
  <li>Process stream segmentation (1000m and/or 500m).</li>
  <li>Find braids in a separate stream network feature class (after topology clean-up, removal of canals, etc.).</li>
</ol>

<h4 id="automated-processing">Automated Processing</h4>
<ol>
  <li>Select braids segments using IsBraided attribute field</li>
  <li>Remove from selection the currently selected braid features that share a centroid with stream features in segmented 
stream network.</li>
  <li>Dissolve selected braids (using “single part” parameter)</li>
  <li>Self-intersect dissolved braids to get “braid-to-braid” nodes.</li>
  <li>Intersect selected braids with segmented stream network - produces “braid-to-mainstem” nodes (which results in 
“Multipoints”).</li>
  <li>Convert braid nodes from multipart to single part</li>
  <li>Add new attribute field (“node_type” = ‘braid’)</li>
  <li>Dissolve segmented stream network (single-part)</li>
  <li>Self-intersect dissolved stream network to get “tributary confluence” nodes</li>
  <li>Add new attribute field (“node_type” = ‘confluence’)</li>
  <li>Merge node datasets into new feature class</li>
  <li>Spatial one-to-many join between stream segment features and braid node features.</li>
  <li>Summarize by LineOID</li>
  <li>Calculate count of braid nodes per stream segment</li>
  <li>Spatial one-to-many spatial join between stream segment features and confluence node features</li>
  <li>Summarize by LineOID
19j. Calculate count of tributary confluence nodes per stream segment</li>
</ol>
</section>
      </div>
      <div id="sidebar" class="large-4 columns large-pull-8">
          
	
	<div class="title-bar">
		<div class="title-bar-title"><i class="fa fa-file-text"></i> Page Contents</div>		
	</div>
	<div id="toc"></div>
	


<div class="title-bar">
	<div class="title-bar-title"><i class="fa fa-sitemap"></i> Site Contents
		<div id="menuCtls" class="button-group tiny show-for-medium">
				<span id="expand" class="button primary fa fa-plus has-tip top" data-tooltip title="Expand all items" aria-haspopup="true" data-disable-hover="false" ></span>
				<span id="contract" class="button primary fa fa-minus has-tip top" data-tooltip title="Contract all items" aria-haspopup="true" data-disable-hover="false" ></span>
			</div>	
	</div>
</div>
<div id="sidenav">
			<ul id='HTMLOnlyNav'>							<li><a href='/About-GNAT-Projects.html'>Riverscapes Projects</a></li>							<li><a href='/Build-Network-Topology-Table.html'>Build Network Topology Table</a></li>							<li><a href='/Calculate-Gradient.html'>Calculate Gradient</a></li>							<li><a href='/Calculate-Threadedness.html'>Calculate Threadedness</a></li>							<li><a href='/Centerline-Tool.html'>Centerline Tool</a></li>							<li><a href='/CombineAttributes.html'>Combine Attributes</a></li>							<li><a href='/Divide-Polygon-by-Segments.html'>Divide Polygons by Segments</a></li>							<li><a href='/Find-Braids-in-Stream-Network.html'>Find Braids in Stream Network</a></li>							<li><a href='/Find-Subnetworks.html'>Find Subnetworks</a></li>							<li><a href='/Generate-Network-Attributes.html'>Generate Network Attributes</a></li>							<li><a href='/Generate-Stream-Branches.html'>Generate Stream Branches</a></li>							<li><a href='/Generate-Stream-Order.html'>Generate Stream Order</a></li>							<li><a href='/Project_CommitRealization.html'>Commit Realization</a></li>							<li><a href='/Project_LoadNetwork.html'>Load Input Datsets</a></li>							<li><a href='/Project_NewGNATProject.html'>Create a New GNAT Project</a></li>							<li><a href='/Segment-Stream-Network.html'>Segment Stream Network</a></li>							<li><a href='/Sinuosity-by-Segment.html'>Sinousity by Segment</a></li>							<li><a href='/Stream-Network-Prep.html'>Stream Network Preparation</a></li>							<li><a href='/Stream-Sinuosity-and-Planform.html'>Stream Sinousity and Planform</a></li>							<li><a href='/Transfer-Line-Attributes.html'>Transfer Line Attributes</a></li>							<li><a href='/'>Home</a></li>		</ul>	
</div>

        </div>
    </div>
  </div>


    <footer id="footer" class="row">
<div id="rightslogo">
    <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">
        <img src="/assets/images/cc-watermarks-riverscapes_orig.png" alt="Picture">
    </a>
</div>
</footer>
    <script type="text/javascript">var NAVTitle = "GNAT";var NAVHome = "";var NAVPages = [{url: "/About-GNAT-Projects.html",absurl: "/About-GNAT-Projects.html",slug: "About-GNAT-Projects.html",title: "Riverscapes Projects",weight: ""},{url: "/Build-Network-Topology-Table.html",absurl: "/Build-Network-Topology-Table.html",slug: "Build-Network-Topology-Table.html",title: "Build Network Topology Table",weight: ""},{url: "/Calculate-Gradient.html",absurl: "/Calculate-Gradient.html",slug: "Calculate-Gradient.html",title: "Calculate Gradient",weight: ""},{url: "/Calculate-Threadedness.html",absurl: "/Calculate-Threadedness.html",slug: "Calculate-Threadedness.html",title: "Calculate Threadedness",weight: ""},{url: "/Centerline-Tool.html",absurl: "/Centerline-Tool.html",slug: "Centerline-Tool.html",title: "Centerline Tool",weight: ""},{url: "/CombineAttributes.html",absurl: "/CombineAttributes.html",slug: "CombineAttributes.html",title: "Combine Attributes",weight: ""},{url: "/Divide-Polygon-by-Segments.html",absurl: "/Divide-Polygon-by-Segments.html",slug: "Divide-Polygon-by-Segments.html",title: "Divide Polygons by Segments",weight: ""},{url: "/Find-Braids-in-Stream-Network.html",absurl: "/Find-Braids-in-Stream-Network.html",slug: "Find-Braids-in-Stream-Network.html",title: "Find Braids in Stream Network",weight: ""},{url: "/Find-Subnetworks.html",absurl: "/Find-Subnetworks.html",slug: "Find-Subnetworks.html",title: "Find Subnetworks",weight: ""},{url: "/Generate-Network-Attributes.html",absurl: "/Generate-Network-Attributes.html",slug: "Generate-Network-Attributes.html",title: "Generate Network Attributes",weight: ""},{url: "/Generate-Stream-Branches.html",absurl: "/Generate-Stream-Branches.html",slug: "Generate-Stream-Branches.html",title: "Generate Stream Branches",weight: ""},{url: "/Generate-Stream-Order.html",absurl: "/Generate-Stream-Order.html",slug: "Generate-Stream-Order.html",title: "Generate Stream Order",weight: ""},{url: "/Project_CommitRealization.html",absurl: "/Project_CommitRealization.html",slug: "Project_CommitRealization.html",title: "Commit Realization",weight: ""},{url: "/Project_LoadNetwork.html",absurl: "/Project_LoadNetwork.html",slug: "Project_LoadNetwork.html",title: "Load Input Datsets",weight: ""},{url: "/Project_NewGNATProject.html",absurl: "/Project_NewGNATProject.html",slug: "Project_NewGNATProject.html",title: "Create a New GNAT Project",weight: ""},{url: "/Segment-Stream-Network.html",absurl: "/Segment-Stream-Network.html",slug: "Segment-Stream-Network.html",title: "Segment Stream Network",weight: ""},{url: "/Sinuosity-by-Segment.html",absurl: "/Sinuosity-by-Segment.html",slug: "Sinuosity-by-Segment.html",title: "Sinousity by Segment",weight: ""},{url: "/Stream-Network-Prep.html",absurl: "/Stream-Network-Prep.html",slug: "Stream-Network-Prep.html",title: "Stream Network Preparation",weight: ""},{url: "/Stream-Sinuosity-and-Planform.html",absurl: "/Stream-Sinuosity-and-Planform.html",slug: "Stream-Sinuosity-and-Planform.html",title: "Stream Sinousity and Planform",weight: ""},{url: "/Transfer-Line-Attributes.html",absurl: "/Transfer-Line-Attributes.html",slug: "Transfer-Line-Attributes.html",title: "Transfer Line Attributes",weight: ""},{url: "/",absurl: "/",slug: "",title: "Home",weight: ""},];var SiteSettings = {"autoPageContents":{"active":true,"onHome":false},"sideMenu":{"homeItem":true,"startExpanded":false},"topmenu":[{"title":"Riverscapes","childern":[{"title":"Model Home","url":"index"},{"title":"Riverscapes Home","url":"http://riverscapes.xyz"},{"title":"About Riverscapes","url":"http://riverscapes.xyz/about.html"},{"title":"Who We Are","url":"http://riverscapes.xyz/who-we-are.html"},{"title":"News","url":"http://riverscapes.xyz/news.html"}]},{"title":"RC Tools","url":"http://riverscapes.xyz/rc-tools.html"},{"title":"RC Science","url":"http://riverscapes.xyz/rc-science.html"},{"title":"RC Data","url":"http://riverscapes.xyz/rc-data.html"},{"title":"RC Help","url":"http://riverscapes.xyz/rc-help.html"}]};</script>

    <script src="/assets/js/dist.js"></script>

  </body>

</html>
